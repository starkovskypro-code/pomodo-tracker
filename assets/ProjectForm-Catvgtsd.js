import{_ as h,c as j,o as r,i as p,w as _,b as i,d as m,z as $,a,t as y,r as v,T as N,P as F,C as x,D as g,e as E,f as I,h as M,F as T,p as z,y as A,m as k}from"./index-ZOB2BtvQ.js";import{B}from"./BaseButton-Br_AxjvD.js";const D={class:"modal-window"},L={class:"modal-header"},U={class:"modal-title"},O={class:"modal-body"},P={key:0,class:"modal-footer"},q={__name:"BaseModal",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["update:modelValue"],setup(t,{emit:f}){const c=f;function u(){c("update:modelValue",!1)}return(n,e)=>(r(),j(F,{to:"body"},[p(N,{name:"modal"},{default:_(()=>[t.modelValue?(r(),i("div",{key:0,class:"modal-overlay",onClick:$(u,["self"])},[a("div",D,[a("div",L,[a("h2",U,y(t.title),1),a("button",{class:"modal-close",onClick:u,"aria-label":"Закрыть"},[...e[0]||(e[0]=[a("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[a("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),a("line",{x1:"6",y1:"6",x2:"18",y2:"18"})],-1)])])]),a("div",O,[v(n.$slots,"default",{},void 0,!0)]),n.$slots.footer?(r(),i("div",P,[v(n.$slots,"footer",{},void 0,!0)])):m("",!0)])])):m("",!0)]),_:3})]))}},se=h(q,[["__scopeId","data-v-68359648"]]),G={class:"base-input"},H=["type","value","placeholder","disabled"],J={key:0,class:"base-input__suffix"},K={key:1,class:"base-input__error"},Q={__name:"BaseInput",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},suffix:{type:String,default:""},error:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{emit:f}){const c=f,u=`input-${Math.random().toString(36).substring(2,9)}`;function n(e){c("update:modelValue",e.target.value)}return(e,d)=>(r(),i("div",G,[t.label?(r(),i("label",{key:0,class:"base-input__label",for:u},y(t.label),1)):m("",!0),a("div",{class:x(["base-input__wrapper",{"base-input__wrapper--error":t.error}])},[a("input",{id:u,class:"base-input__field",type:t.type,value:t.modelValue,onInput:n,placeholder:t.placeholder,disabled:t.disabled},null,40,H),t.suffix?(r(),i("span",J,y(t.suffix),1)):m("",!0)],2),t.error?(r(),i("p",K,y(t.error),1)):m("",!0)]))}},V=h(Q,[["__scopeId","data-v-f21f6fd7"]]),W={class:"project-form__color-field"},X={class:"project-form__colors"},Y=["onClick","aria-label"],Z={key:0,width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"3"},ee={class:"project-form__actions"},te={__name:"ProjectForm",props:{project:{type:Object,default:null}},emits:["submit","cancel"],setup(t,{emit:f}){const c=t,u=f,n=["#6366F1","#8B5CF6","#EC4899","#EF4444","#F97316","#EAB308","#22C55E","#14B8A6","#0EA5E9","#6B7280"],e=g({name:"",hourlyRate:"",color:n[0]}),d=g({name:"",hourlyRate:""}),b=E(!1),C=I(()=>c.project?"Сохранить":"Создать проект");M(()=>c.project,l=>{l&&(e.name=l.name||"",e.hourlyRate=l.hourlyRate?.toString()||"",e.color=l.color||n[0])},{immediate:!0});function S(){let l=!0;d.name="",d.hourlyRate="",e.name.trim()||(d.name="Укажите название проекта",l=!1);const o=Number(e.hourlyRate);return e.hourlyRate&&(isNaN(o)||o<0)&&(d.hourlyRate="Укажите корректную ставку",l=!1),l}async function R(){if(!S())return;b.value=!0;const l={name:e.name.trim(),hourlyRate:Number(e.hourlyRate)||0,color:e.color};u("submit",l),b.value=!1}function w(){u("cancel")}return(l,o)=>(r(),i("form",{class:"project-form",onSubmit:$(R,["prevent"])},[p(V,{modelValue:e.name,"onUpdate:modelValue":o[0]||(o[0]=s=>e.name=s),label:"Название проекта",placeholder:"Например: Редизайн сайта",error:d.name},null,8,["modelValue","error"]),p(V,{modelValue:e.hourlyRate,"onUpdate:modelValue":o[1]||(o[1]=s=>e.hourlyRate=s),label:"Часовая ставка",type:"number",placeholder:"2000",suffix:"₽/час",error:d.hourlyRate},null,8,["modelValue","error"]),a("div",W,[o[3]||(o[3]=a("label",{class:"project-form__label"},"Цвет проекта",-1)),a("div",X,[(r(),i(T,null,z(n,s=>a("button",{key:s,type:"button",class:x(["project-form__color-btn",{"project-form__color-btn--active":e.color===s}]),style:A({backgroundColor:s}),onClick:ae=>e.color=s,"aria-label":`Выбрать цвет ${s}`},[e.color===s?(r(),i("svg",Z,[...o[2]||(o[2]=[a("polyline",{points:"20,6 9,17 4,12"},null,-1)])])):m("",!0)],14,Y)),64))])]),a("div",ee,[p(B,{variant:"secondary",type:"button",onClick:w},{default:_(()=>[...o[4]||(o[4]=[k(" Отмена ",-1)])]),_:1}),p(B,{variant:"primary",type:"submit",loading:b.value},{default:_(()=>[k(y(C.value),1)]),_:1},8,["loading"])])],32))}},re=h(te,[["__scopeId","data-v-957b355d"]]);export{se as B,re as P,V as a};
