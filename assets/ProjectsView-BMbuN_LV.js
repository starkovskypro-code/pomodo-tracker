import{B as j}from"./BaseButton-CDRO35Af.js";import{P as w,B as P}from"./ProjectForm-o_S-585B.js";import{P as k,u as B}from"./useProjects-y7MtsXPX.js";import{_ as v,b as a,o as t,q as V,i as r,w as n,m as f,F as C,p as x,c as L,e as M,g as $,a as _,l as m}from"./index-BNaTmjPP.js";import"./BaseCard-Bnuw-Bye.js";import"./projectRepository-CTpxSQ9r.js";const N={class:"project-list"},F={key:0,class:"project-list__loading"},b={key:1,class:"project-list__empty"},q={key:2,class:"project-list__grid"},I={__name:"ProjectList",props:{projects:{type:Array,required:!0},isLoading:{type:Boolean,default:!1}},emits:["create"],setup(i){return(d,e)=>(t(),a("div",N,[i.isLoading?(t(),a("div",F," Загрузка проектов... ")):i.projects.length===0?(t(),a("div",b,[e[2]||(e[2]=V('<div class="project-list__empty-icon" data-v-48883ed6><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-v-48883ed6><path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z" data-v-48883ed6></path></svg></div><h3 class="project-list__empty-title" data-v-48883ed6>Нет проектов</h3><p class="project-list__empty-text" data-v-48883ed6> Создайте первый проект, чтобы начать отслеживать время </p>',3)),r(j,{variant:"primary",onClick:e[0]||(e[0]=o=>d.$emit("create"))},{default:n(()=>[...e[1]||(e[1]=[f(" Создать проект ",-1)])]),_:1})])):(t(),a("div",q,[(t(!0),a(C,null,x(i.projects,o=>(t(),L(k,{key:o.id,project:o},null,8,["project"]))),128))]))]))}},S=v(I,[["__scopeId","data-v-48883ed6"]]),z={class:"projects-view"},A={class:"projects-view__header"},E={__name:"ProjectsView",setup(i){const{projects:d,isLoading:e,loadProjects:o,addProject:y}=B(),l=M(!1);$(async()=>{await o()});function c(){l.value=!0}function p(){l.value=!1}async function g(u){await y(u),p()}return(u,s)=>(t(),a("div",z,[_("header",A,[s[2]||(s[2]=_("h1",{class:"projects-view__title"},"Проекты",-1)),r(j,{variant:"primary",onClick:c},{default:n(()=>[...s[1]||(s[1]=[f(" + Новый проект ",-1)])]),_:1})]),r(S,{projects:m(d),"is-loading":m(e),onCreate:c},null,8,["projects","is-loading"]),r(P,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=h=>l.value=h),title:"Новый проект"},{default:n(()=>[r(w,{onSubmit:g,onCancel:p})]),_:1},8,["modelValue"])]))}},J=v(E,[["__scopeId","data-v-16414f60"]]);export{J as default};
